# LeetCode 3577 - è¨ˆç®—é›»è…¦è§£é–é †åºæ’åˆ—æ•¸

[![LeetCode](https://img.shields.io/badge/LeetCode-3577-orange?style=flat-square)](https://leetcode.com/problems/count-the-number-of-computer-unlocking-permutations/)
[![.NET](https://img.shields.io/badge/.NET-10.0-512BD4?style=flat-square)](https://dotnet.microsoft.com/)
[![C#](https://img.shields.io/badge/C%23-14-239120?style=flat-square)](https://docs.microsoft.com/en-us/dotnet/csharp/)

> Count the Number of Computer Unlocking Permutations / çµ±è¨ˆè¨ˆç®—æ©Ÿè§£é–é †åºæ’åˆ—æ•¸

## ğŸ“‹ é¡Œç›®æè¿°

çµ¦å®šä¸€å€‹é•·åº¦ç‚º `n` çš„æ•´æ•¸é™£åˆ— `complexity`ã€‚

æˆ¿é–“è£¡æœ‰ `n` å°å·²é–å®šçš„é›»è…¦ï¼Œæ¨™è™Ÿå¾ `0` åˆ° `n - 1`ï¼Œä¸”æ¯å°é›»è…¦å„æœ‰å”¯ä¸€çš„å¯†ç¢¼ã€‚ç·¨è™Ÿç‚º `i` çš„é›»è…¦ä¹‹å¯†ç¢¼è¤‡é›œåº¦ç‚º `complexity[i]`ã€‚

**è§£é–è¦å‰‡ï¼š**

- ç·¨è™Ÿç‚º `0` çš„é›»è…¦çš„å¯†ç¢¼å·²ç¶“è§£å¯†ï¼Œä½œç‚ºæ ¹ç¯€é»
- ä½ å¯ä»¥ä½¿ç”¨é›»è…¦ `j` çš„å¯†ç¢¼ä¾†è§£å¯†é›»è…¦ `i` çš„å¯†ç¢¼ï¼Œç•¶ä¸”åƒ…ç•¶ `j < i` ä¸” `complexity[j] < complexity[i]`
- è¦è§£é–é›»è…¦ `i`ï¼Œä½ å¿…é ˆå·²ç¶“è§£é–æŸå° `j`ï¼Œæ»¿è¶³ `j < i` ä¸” `complexity[j] < complexity[i]`

**ç›®æ¨™ï¼š** æ±‚æœ‰å¤šå°‘ç¨®æ’åˆ— `[0, 1, 2, ..., n - 1]` è¡¨ç¤ºæœ‰æ•ˆçš„è§£é–é †åºã€‚ç”±æ–¼ç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè«‹å°‡çµæœå° `10^9 + 7` å–æ¨¡ã€‚

## ğŸ’¡ è§£é¡Œæ¦‚å¿µ

### æ ¸å¿ƒè§€å¯Ÿ

å¾é¡Œç›®çš„è§£é–æ¢ä»¶å‡ºç™¼ï¼Œæˆ‘å€‘å¯ä»¥è§€å¯Ÿåˆ°ä¸€å€‹é—œéµçš„å‚³éæ€§ï¼š

```text
é›»è…¦ 0ï¼ˆå·²è§£é–ï¼‰
    â”‚
    â”œâ”€â–º é›†åˆ Aï¼ˆè¢«é›»è…¦ 0 è§£é–ï¼‰â†’ è¤‡é›œåº¦ > complexity[0]
    â”‚       â”‚
    â”‚       â””â”€â–º é›†åˆ Bï¼ˆè¢«é›†åˆ A è§£é–ï¼‰â†’ è¤‡é›œåº¦æ›´å¤§ > complexity[0]
    â”‚               â”‚
    â”‚               â””â”€â–º é›†åˆ Cï¼ˆè¢«é›†åˆ B è§£é–ï¼‰â†’ è¤‡é›œåº¦æ›´å¤§ > complexity[0]
    â”‚                       â”‚
    â‹®                       â‹®
```

**çµè«–ï¼š** æ‰€æœ‰è¢«è§£é–çš„é›»è…¦çš„å¯†ç¢¼è¤‡é›œåº¦éƒ½å¿…é ˆæ¯” `complexity[0]` å¤§ã€‚

### å®šç†è­‰æ˜

**å®šç†ï¼š** ç•¶ä¸”åƒ…ç•¶é›»è…¦ 0 å³é‚Šçš„æ‰€æœ‰é›»è…¦çš„å¯†ç¢¼è¤‡é›œåº¦éƒ½æ¯” `complexity[0]` å¤§ï¼Œæ‰èƒ½è§£é–æ‰€æœ‰é›»è…¦ã€‚

#### å……åˆ†æ€§è­‰æ˜

å¦‚æœé›»è…¦ 0 å³é‚Šçš„æ‰€æœ‰é›»è…¦çš„å¯†ç¢¼è¤‡é›œåº¦éƒ½æ¯” `complexity[0]` å¤§ï¼š

- æ ¹æ“šé¡Œæ„ï¼Œé›»è…¦ 0 å¯ä»¥ç›´æ¥è§£é–æ‰€æœ‰å…¶ä»–é›»è…¦
- å› æ­¤å¿…å®šå­˜åœ¨æœ‰æ•ˆçš„è§£é–é †åº

#### å¿…è¦æ€§è­‰æ˜ï¼ˆåè­‰æ³•ï¼‰

å‡è¨­å­˜åœ¨é›»è…¦ `i`ï¼ˆ`i > 0`ï¼‰æ»¿è¶³ `complexity[i] â‰¤ complexity[0]`ï¼š

1. è¦è§£é–é›»è…¦ `i`ï¼Œéœ€è¦åœ¨å…¶å·¦é‚Šæ‰¾ä¸€å°è¤‡é›œåº¦æ›´å°çš„é›»è…¦ `j`
2. ä¸æ–·å¾€å·¦æ‰¾ï¼Œé›»è…¦çš„è¤‡é›œåº¦åªæœƒæ›´å°
3. æœ€çµ‚æœƒè¿½æº¯åˆ°è¢«é›»è…¦ 0 è§£é–çš„æŸå°é›»è…¦ `B`
4. é›»è…¦ `B` çš„è¤‡é›œåº¦å¿…é ˆ `> complexity[0]`ï¼ˆæ‰èƒ½è¢«é›»è…¦ 0 è§£é–ï¼‰
5. ä½†åŒæ™‚é›»è…¦ `B` çš„è¤‡é›œåº¦åˆè¦ `< complexity[i] â‰¤ complexity[0]`
6. **çŸ›ç›¾ï¼** å› æ­¤ç„¡æ³•è§£é–é›»è…¦ `i`

### è¨ˆç®—æ’åˆ—æ•¸

æ ¹æ“šå®šç†ï¼š

- å¦‚æœæ¢ä»¶**ä¸æ»¿è¶³**ï¼šç­”æ¡ˆç‚º `0`
- å¦‚æœæ¢ä»¶**æ»¿è¶³**ï¼šå¯ä»¥æŒ‰ä»»æ„é †åºè§£é– `n - 1` å°é›»è…¦ï¼Œæ–¹æ¡ˆæ•¸ç‚º `(n - 1)!`

## ğŸ“Š ç¯„ä¾‹æ¼”ç¤º

### ç¯„ä¾‹ 1ï¼š`complexity = [1, 2, 3]`

```text
é›»è…¦ç´¢å¼•:     0    1    2
è¤‡é›œåº¦:       1    2    3
             â†‘
           èµ·é»ï¼ˆå·²è§£é–ï¼‰

æª¢æŸ¥æ¢ä»¶ï¼š
- complexity[1] = 2 > complexity[0] = 1 âœ“
- complexity[2] = 3 > complexity[0] = 1 âœ“

æ¢ä»¶æ»¿è¶³ï¼é›»è…¦ 0 å¯ä»¥è§£é–æ‰€æœ‰å…¶ä»–é›»è…¦ã€‚

å¯èƒ½çš„è§£é–é †åºï¼ˆé›»è…¦ 0 å·²è§£é–ï¼Œæ’åˆ—å‰©é¤˜çš„ 1, 2ï¼‰ï¼š
1. å…ˆè§£é– 1ï¼Œå†è§£é– 2ï¼š[0] â†’ [0,1] â†’ [0,1,2]
2. å…ˆè§£é– 2ï¼Œå†è§£é– 1ï¼š[0] â†’ [0,2] â†’ [0,2,1]

ç­”æ¡ˆï¼š(3-1)! = 2! = 2
```

### ç¯„ä¾‹ 2ï¼š`complexity = [3, 1, 2]`

```text
é›»è…¦ç´¢å¼•:     0    1    2
è¤‡é›œåº¦:       3    1    2
             â†‘
           èµ·é»ï¼ˆå·²è§£é–ï¼‰

æª¢æŸ¥æ¢ä»¶ï¼š
- complexity[1] = 1 â‰¤ complexity[0] = 3 âœ—

æ¢ä»¶ä¸æ»¿è¶³ï¼

åˆ†æï¼š
- è¦è§£é–é›»è…¦ 1ï¼ˆè¤‡é›œåº¦ 1ï¼‰ï¼Œéœ€è¦æ‰¾è¤‡é›œåº¦æ›´å°çš„é›»è…¦
- é›»è…¦ 0 çš„è¤‡é›œåº¦æ˜¯ 3 > 1ï¼Œç„¡æ³•è§£é–é›»è…¦ 1
- æ²’æœ‰å…¶ä»–å·²è§£é–çš„é›»è…¦å¯ä»¥å¹«åŠ©

ç­”æ¡ˆï¼š0
```

### ç¯„ä¾‹ 3ï¼š`complexity = [1, 5, 3, 4, 2]`

```text
é›»è…¦ç´¢å¼•:     0    1    2    3    4
è¤‡é›œåº¦:       1    5    3    4    2
             â†‘
           èµ·é»ï¼ˆå·²è§£é–ï¼‰

æª¢æŸ¥æ¢ä»¶ï¼š
- complexity[1] = 5 > complexity[0] = 1 âœ“
- complexity[2] = 3 > complexity[0] = 1 âœ“
- complexity[3] = 4 > complexity[0] = 1 âœ“
- complexity[4] = 2 > complexity[0] = 1 âœ“

æ¢ä»¶æ»¿è¶³ï¼

ç­”æ¡ˆï¼š(5-1)! = 4! = 24
```

## ğŸš€ å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚

- [.NET 10.0 SDK](https://dotnet.microsoft.com/download) æˆ–æ›´é«˜ç‰ˆæœ¬

### å»ºæ§‹èˆ‡åŸ·è¡Œ

```bash
# è¤‡è£½å°ˆæ¡ˆ
git clone https://github.com/HyperLee/Leetcode_folder.git
cd leetcode_3557

# å»ºæ§‹å°ˆæ¡ˆ
dotnet build

# åŸ·è¡Œç¨‹å¼
dotnet run --project leetcode_3557/leetcode_3557.csproj
```

### é æœŸè¼¸å‡º

```text
æ¸¬è©¦ 1: complexity = [1, 2, 3]
çµæœ: 2

æ¸¬è©¦ 2: complexity = [3, 1, 2]
çµæœ: 0

æ¸¬è©¦ 3: complexity = [1, 2, 3, 4, 5]
çµæœ: 24

æ¸¬è©¦ 4: complexity = [2, 1]
çµæœ: 0

æ¸¬è©¦ 5: complexity = [1, 5, 3, 4, 2]
çµæœ: 24
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```text
leetcode_3557/
â”œâ”€â”€ leetcode_3557.sln          # è§£æ±ºæ–¹æ¡ˆæª”æ¡ˆ
â”œâ”€â”€ README.md                  # å°ˆæ¡ˆèªªæ˜æ–‡ä»¶
â””â”€â”€ leetcode_3557/
    â”œâ”€â”€ leetcode_3557.csproj   # å°ˆæ¡ˆè¨­å®šæª”
    â””â”€â”€ Program.cs             # ä¸»ç¨‹å¼èˆ‡è§£é¡Œå¯¦ä½œ
```

## â±ï¸ è¤‡é›œåº¦åˆ†æ

| é …ç›® | è¤‡é›œåº¦ |
|------|--------|
| æ™‚é–“è¤‡é›œåº¦ | O(n) |
| ç©ºé–“è¤‡é›œåº¦ | O(1) |

- **æ™‚é–“**ï¼šåªéœ€éæ­·é™£åˆ—ä¸€æ¬¡ï¼Œæª¢æŸ¥æ¢ä»¶ä¸¦è¨ˆç®—éšä¹˜
- **ç©ºé–“**ï¼šåƒ…ä½¿ç”¨å¸¸æ•¸é¡å¤–ç©ºé–“

## ğŸ”— ç›¸é—œé€£çµ

- [LeetCode é¡Œç›®é€£çµï¼ˆè‹±æ–‡ï¼‰](https://leetcode.com/problems/count-the-number-of-computer-unlocking-permutations/)
- [LeetCode é¡Œç›®é€£çµï¼ˆä¸­æ–‡ï¼‰](https://leetcode.cn/problems/count-the-number-of-computer-unlocking-permutations/)
