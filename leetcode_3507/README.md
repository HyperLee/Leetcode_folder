# LeetCode 3507 - Minimum Pair Removal to Sort Array I

[![LeetCode](https://img.shields.io/badge/LeetCode-3507-orange?style=flat-square&logo=leetcode)](https://leetcode.com/problems/minimum-pair-removal-to-sort-array-i/)
[![Difficulty](https://img.shields.io/badge/Difficulty-Easy-brightgreen?style=flat-square)]()
[![.NET](https://img.shields.io/badge/.NET-9.0-512BD4?style=flat-square&logo=dotnet)](https://dotnet.microsoft.com/)
[![C#](https://img.shields.io/badge/C%23-14-239120?style=flat-square&logo=csharp)](https://docs.microsoft.com/dotnet/csharp/)

移除最小數對使陣列有序 I

[題目說明](#題目說明) • [解題思路](#解題思路) • [演算法流程](#演算法流程) • [範例演示](#範例演示) • [執行方式](#執行方式)

---

## 題目說明

給定一個整數陣列 `nums`，你可以執行以下操作任意次數：

1. **選擇**陣列中**相鄰且和最小**的一對元素
2. 若有多個這樣的數對，選擇**最左邊**的那一對
3. 將該數對**替換**為它們的**和**

**目標**：回傳使陣列變成**非遞減**（每個元素 ≥ 前一元素）所需的**最少操作次數**。

### 範例

**範例 1：**
```
輸入：nums = [5, 2, 3, 1]
輸出：2
```

**範例 2：**
```
輸入：nums = [1, 2, 2]
輸出：0
說明：陣列已經是非遞減的，不需要任何操作
```

### 限制條件

- `1 <= nums.length <= 50`
- `-1000 <= nums[i] <= 1000`

---

## 解題思路

### 核心概念

由於題目的資料範圍非常小（陣列長度 ≤ 50），我們可以直接按照題意進行**模擬**。

### 解題策略

採用**貪心 + 模擬**的方式：

1. **遍歷檢查**：每次遍歷陣列的相鄰元素
2. **雙重任務**：在一次遍歷中同時完成：
   - 維護最小相鄰數對的和及其位置
   - 判斷陣列是否已滿足非嚴格單調遞增
3. **合併操作**：若不滿足條件，將最小和的相鄰數對合併為新元素
4. **重複執行**：直到滿足非嚴格單調遞增或陣列長度為 1

### 複雜度分析

| 項目 | 複雜度 | 說明 |
|------|--------|------|
| 時間複雜度 | O(n²) | 最壞情況下需要 n-1 次操作，每次遍歷 O(n) |
| 空間複雜度 | O(n) | 使用 List 儲存陣列元素 |

---

## 演算法流程

```
開始
  │
  ▼
┌─────────────────────────────┐
│ 初始化 count = 0            │
│ 將 nums 轉換為 List         │
└─────────────────────────────┘
  │
  ▼
┌─────────────────────────────┐
│ while (list.Count > 1)      │◄─────────────┐
└─────────────────────────────┘              │
  │                                          │
  ▼                                          │
┌─────────────────────────────┐              │
│ 遍歷所有相鄰數對：           │              │
│ • 找出最小和的數對位置       │              │
│ • 檢查是否為非遞減          │              │
└─────────────────────────────┘              │
  │                                          │
  ▼                                          │
┌─────────────────────────────┐              │
│ 是否為非遞減？               │              │
└─────────────────────────────┘              │
  │ 是                │ 否                   │
  ▼                   ▼                      │
┌───────┐    ┌─────────────────────────┐     │
│ break │    │ count++                  │     │
└───────┘    │ 合併最小和數對           │     │
  │          │ 移除被合併的元素         │     │
  │          └─────────────────────────┘     │
  │                   │                      │
  │                   └──────────────────────┘
  ▼
┌─────────────────────────────┐
│ 回傳 count                   │
└─────────────────────────────┘
  │
  ▼
結束
```

---

## 範例演示

以 `nums = [5, 2, 3, 1]` 為例，展示完整的執行流程：

### 初始狀態

```
陣列: [5, 2, 3, 1]
count: 0
```

### 第一次迭代

| 索引 i | 數對 | 和 | 是否遞減違規 |
|--------|------|-----|--------------|
| 0 | (5, 2) | 7 | ✓ (5 > 2) |
| 1 | (2, 3) | 5 | ✗ |
| 2 | (3, 1) | 4 ← 最小 | ✓ (3 > 1) |

- **最小和數對**：(3, 1)，索引 = 2，和 = 4
- **陣列狀態**：存在遞減 → 需要操作
- **操作**：合併索引 2 的數對

```
操作前: [5, 2, 3, 1]
操作後: [5, 2, 4]
count: 1
```

### 第二次迭代

| 索引 i | 數對 | 和 | 是否遞減違規 |
|--------|------|-----|--------------|
| 0 | (5, 2) | 7 ← 最小 | ✓ (5 > 2) |
| 1 | (2, 4) | 6 | ✗ |

- **最小和數對**：(2, 4)，索引 = 1，和 = 6... 不對！
- 重新計算：(5, 2) 和 = 7，(2, 4) 和 = 6
- **最小和數對**：(2, 4)，索引 = 1，和 = 6
- **陣列狀態**：存在遞減 (5 > 2) → 需要操作
- **操作**：合併索引 1 的數對

```
操作前: [5, 2, 4]
操作後: [5, 6]
count: 2
```

### 第三次迭代

| 索引 i | 數對 | 和 | 是否遞減違規 |
|--------|------|-----|--------------|
| 0 | (5, 6) | 11 | ✗ |

- **陣列狀態**：5 ≤ 6 → 已滿足非遞減條件
- **結束迴圈**

### 最終結果

```
最終陣列: [5, 6]
操作次數: 2
```

---

## 執行方式

### 環境需求

- [.NET 9.0 SDK](https://dotnet.microsoft.com/download/dotnet/9.0) 或更新版本

### 建構與執行

```bash
# 進入專案目錄
cd leetcode_3507

# 建構專案
dotnet build

# 執行程式
dotnet run
```

### 預期輸出

```
Input: [5, 2, 3, 1]
Output: 2

Input: [1, 2, 2]
Output: 0

Input: [3, 2, 1]
Output: 2

Input: [1]
Output: 0
```

---

## 相關題目

- [LeetCode 3508 - Minimum Pair Removal to Sort Array II](https://leetcode.com/problems/minimum-pair-removal-to-sort-array-ii/)

## 參考資源

- [LeetCode 題目連結 (英文)](https://leetcode.com/problems/minimum-pair-removal-to-sort-array-i/)
- [LeetCode 題目連結 (中文)](https://leetcode.cn/problems/minimum-pair-removal-to-sort-array-i/)
