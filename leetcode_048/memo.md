# 矩陣旋轉的幾何性質

Rotate function 這個方法利用了矩陣的幾何性質，通過兩次翻轉操作來實現 **順時針旋轉 90 度**。以下是詳細的原理解釋：

## 1. 矩陣旋轉的幾何性質

順時針旋轉 90 度的效果是：

- 原矩陣的第 `i` 行變成結果矩陣的第 `n-1-i` 列。
- 具體來說，位置 `(i, j)` 的元素會移動到位置 `(j, n-1-i)`。

## 2. 分解旋轉操作

直接實現旋轉 90 度可能比較複雜，因此我們可以將這個操作分解為兩個簡單的翻轉操作：

1. **上下翻轉**：將矩陣的上半部分與下半部分交換。
2. **對角線翻轉**：以主對角線（左上到右下）為軸，交換對稱位置的元素。

這兩個翻轉操作的組合，剛好等價於順時針旋轉 90 度。

## 3. 為什麼這樣可以實現旋轉？

### 步驟 1：上下翻轉

上下翻轉會將矩陣的第 `i` 行與第 `n-1-i` 行交換。這樣會把矩陣的行順序顛倒，但列順序保持不變。

**範例**：

```plaintext
原矩陣：
1  2  3
4  5  6
7  8  9

上下翻轉後：
7  8  9
4  5  6
1  2  3
```

### 步驟 2：對角線翻轉

對角線翻轉會將矩陣中 `(i, j)` 的元素與 `(j, i)` 的元素交換。這相當於將矩陣「沿主對角線折疊」，從而將行轉換為列。

**範例**：

```plaintext
上下翻轉後的矩陣：
7  8  9
4  5  6
1  2  3

對角線翻轉後：
7  4  1
8  5  2
9  6  3
```

結果矩陣正是原矩陣順時針旋轉 90 度的結果。

## 4. 幾何直觀理解

- **上下翻轉**：將矩陣「上下顛倒」，使得原本的行順序變為反向。
- **對角線翻轉**：將矩陣「沿主對角線折疊」，使得行和列互換。

這兩個操作的組合，等價於將矩陣中的每個元素從 `(i, j)` 移動到 `(j, n-1-i)`，這正是順時針旋轉 90 度的效果。

## 5. 時間與空間複雜度

- **時間複雜度**：兩次翻轉操作都需要遍歷整個矩陣，因此時間複雜度為 `O(n²)`。
- **空間複雜度**：這是原地操作，不需要額外的記憶體，因此空間複雜度為 `O(1)`。

## 總結

這種方法利用了矩陣的幾何性質，將旋轉操作分解為兩個簡單的翻轉操作：

1. **上下翻轉**：改變行的順序。
2. **對角線翻轉**：將行和列互換。

這樣的分解方式不僅直觀，還能有效地減少程式碼的複雜度，並且在空間上非常高效。