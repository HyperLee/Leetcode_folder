# leetcode_3169

本專案為 Leetcode 題目「3169. Count Days Without Meetings」的 C# 解法，並採用 .NET 8 建構。程式碼遵循最新 C# 13 標準與最佳實踐，並包含詳細註解以利理解。

## 專案結構

```
leetcode_3169/
├── leetcode_3169.sln                # Visual Studio 解決方案檔案
└── leetcode_3169/
    ├── leetcode_3169.csproj         # .NET 專案檔案
    ├── Program.cs                   # 主程式與解題邏輯
    └── bin/、obj/                   # 編譯輸出與中間檔案
```

## 題目說明

- 題目連結：[Leetcode 3169](https://leetcode.com/problems/count-days-without-meetings/)
- 中文說明：[Leetcode CN](https://leetcode.cn/problems/count-days-without-meetings/description/?envType=daily-question&envId=2025-07-11)

給定員工可工作的總天數 `days` 及多個會議區間 `meetings`，計算員工可工作但沒有排定會議的天數。會議可能重疊。

## 解題概念與出發點

本題目核心在於「計算可工作但無會議的天數」，需考慮會議區間可能重疊。若直接將所有會議天數累加，會導致重疊天數重複計算，因此必須先合併重疊區間。

### 解題出發點

1. **排序會議區間**：先依照每個會議的起始天數排序，方便後續合併。
2. **合併重疊區間**：遍歷排序後的會議，若新會議起始天大於目前合併區間結束天，表示有空檔，將前一段有會議的天數累計並更新合併區間起始天；否則持續合併重疊區間，更新結束天。
3. **累計有會議的天數**：每次遇到空檔或遍歷結束時，將合併區間的天數累計。
4. **計算答案**：用總天數扣除所有有會議的天數，即為可工作但無會議的天數。

### 詳細步驟

- 先將 `meetings` 依起始天排序。
- 設定合併區間起始天 `l`，結束天 `r`。
- 依序遍歷每個會議：
  - 若新會議起始天 > 當前合併區間結束天，表示有空檔，累計前一段有會議的天數，並更新合併區間起始天。
  - 否則合併重疊區間，更新結束天。
- 最後一段合併區間結束後，記得再累計一次有會議的天數。
- 回傳剩餘天數即為答案。

### 範例說明

以 days = 10，meetings = [[2,4], [5,7]] 為例：

- 會議排序後為 [2,4], [5,7]。
- 合併後有會議的天數為 2~4（3天）、5~7（3天），共 6 天。
- 可工作但無會議的天數 = 10 - 6 = 4。

## 其他解法

### 使用布林陣列標記法

- 建立一個長度為 days+1 的布林陣列（index 1~days），初始皆為 false。
- 遍歷每個會議區間，將對應天數標記為 true（表示該天有會議）。
- 最後統計陣列中為 false 的天數，即為可工作但無會議的天數。
- 優點：程式碼簡單，易於理解，適合 days 範圍不大時。
- 缺點：若 days 很大，記憶體消耗較高。

程式碼已於 Program.cs 實作 `CountDaysByMarking` 方法，並於主程式展示呼叫。

## 程式碼設計

- 主程式於 `Program.cs`，包含 `CountDays` 方法（合併區間法）與 `CountDaysByMarking` 方法（布林陣列標記法），可依需求選用。
- 具備詳細 XML 註解，方便理解每個步驟。
- 依據 C# 最佳實踐，採用 file-scoped namespace、PascalCase 命名、例外處理與註解。

## 執行方式

1. 確認已安裝 .NET 8 SDK。
2. 於專案根目錄執行以下指令建構並執行：

```zsh
dotnet build
dotnet run --project leetcode_3169/leetcode_3169.csproj
```

## 測試資料

程式內建範例測資：

- days = 10
- meetings = [[2,4], [5,7]]
- 預期輸出：4（可工作但無會議的天數）

## 方法比較

| 方法名稱             | 效能             | 可讀性         | 可修改性         | 適用於大資料量 | 優缺點說明 |
|----------------------|------------------|----------------|------------------|---------------|------------|
| 合併重疊區間法 (`CountDays`) | 高，僅排序與一次遍歷 | 佳，邏輯清楚     | 易於擴充（可支援多種區間操作） | 適合，記憶體消耗低 | 優點：僅需排序與遍歷，空間複雜度低。缺點：程式碼略需理解合併區間邏輯。 |
| 布林陣列標記法 (`CountDaysByMarking`) | 中，需遍歷所有區間與所有天數 | 極佳，程式碼直觀 | 易於修改（直接標記天數） | 不適合，days 很大時記憶體消耗高 | 優點：程式碼簡單，易懂。缺點：days 很大時記憶體消耗高，效能下降。 |

### 效能
- 合併重疊區間法：時間複雜度 O(n log n)（排序）+ O(n)（遍歷），空間複雜度 O(1)。適合大資料量。
- 布林陣列標記法：時間複雜度 O(n + days)，空間複雜度 O(days)。若 days 很大（如 10^6 以上），記憶體消耗明顯。

### 可讀性
- 合併重疊區間法：需理解區間合併邏輯，適合有演算法基礎者。
- 布林陣列標記法：程式碼直觀，初學者易懂。

### 可修改性
- 合併重疊區間法：可擴充支援多種區間查詢、統計等。
- 布林陣列標記法：直接標記天數，修改方便。

### Big Data（大資料量）情境
- 合併重疊區間法：適合大 days 或大量 meetings，記憶體消耗低。
- 布林陣列標記法：僅適合 days 範圍不大，否則記憶體消耗高且效能下降。

---

建議：若 days 範圍不大且重疊區間不多，可用布林陣列標記法；若 days 或 meetings 數量很大，建議採用合併重疊區間法。

## 開發規範

- 使用 C# 13 最新語法。
- 依據 `.editorconfig` 格式化程式碼。
- 具備明確註解與例外處理。
- 依據 [C# instructions](.github/instructions/csharp.instructions.md) 實作。

## 聯絡方式

如有任何問題，歡迎於 Issues 留言或聯絡專案擁有者。

---

如需補充其他 Leetcode 題目或功能，請依照本專案結構新增檔案與註解。
