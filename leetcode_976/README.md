# LeetCode 976: Largest Perimeter Triangle

[![.NET](https://img.shields.io/badge/.NET-8.0-512BD4?style=flat-square)](https://dotnet.microsoft.com/)
[![License](https://img.shields.io/badge/license-MIT-blue?style=flat-square)](LICENSE)

一個 C# 解決方案，用於解決 LeetCode 第 976 題「三角形的最大周長」問題。

## 問題描述

給定一個整數數組 `nums`，返回由這三個長度組成的非零面積三角形的最長周長。如果不可能形成任何非零面積的三角形，則返回 0。

### 範例

**範例 1：**

```text
輸入: nums = [2,1,2]
輸出: 5
說明: 可以用邊長為 2, 1, 2 的三個數形成三角形，周長為 5。
```

**範例 2：**

```text
輸入: nums = [1,2,1]
輸出: 0
說明: 1 + 1 = 2 ≤ 2，不滿足三角不等式，無法形成三角形。
```

**範例 3：**

```text
輸入: nums = [3,2,3,4]
輸出: 10
說明: 可以用邊長為 3, 3, 4 的三個數形成三角形，周長為 10。
```

## 三角形基礎知識

### 三角形周長計算公式

三角形的周長是三個邊長的總和：

```text
周長 = 邊長1 + 邊長2 + 邊長3
```

### 三角不等式

要形成一個非零面積的三角形，三個邊長必須滿足**三角不等式**：

- 邊長1 + 邊長2 > 邊長3
- 邊長1 + 邊長3 > 邊長2  
- 邊長2 + 邊長3 > 邊長1

> [!IMPORTANT]
> 只有當三個邊長同時滿足所有三角不等式條件時，才能形成一個有效的三角形。

### 關鍵觀察

對於排序後的三個邊長 `a ≤ b ≤ c`：

- 由於 `a ≤ b ≤ c`，條件 `a + c > b` 和 `b + c > a` 自動滿足
- 只需檢查 `a + b > c` 是否成立

## 演算法解析

### 解題思路

1. **排序優化**：將數組按升序排序，利用排序後的性質簡化三角不等式檢查
2. **貪心策略**：從最大的三個數開始檢查，確保找到最大周長
3. **高效檢查**：對於排序後的數組，只需檢查最小兩邊之和是否大於最大邊
4. **早期返回**：一旦找到滿足條件的三邊組合，立即返回結果

### 程式碼實現

```csharp
public int LargestPerimeter(int[] nums)
{
    // 步驟1: 將數組按升序排序，便於後續檢查三角不等式
    Array.Sort(nums);
    
    // 步驟2: 從最大的三個數開始向前檢查（貪心策略）
    for (int i = nums.Length - 1; i >= 2; i--)
    {
        // 檢查三角不等式：兩小邊之和 > 最大邊
        if (nums[i - 2] + nums[i - 1] > nums[i])
        {
            // 找到第一組滿足條件的三邊，返回其周長
            return nums[i - 2] + nums[i - 1] + nums[i];
        }
    }
    
    // 若沒有找到滿足條件的三邊組合，返回 0
    return 0;
}
```

### 複雜度分析

- **時間複雜度**: `O(n log n)`
  - 排序操作需要 `O(n log n)` 時間
  - 線性掃描需要 `O(n)` 時間
  - 總體由排序決定

- **空間複雜度**: `O(1)`
  - 只使用常數額外空間
  - 原地排序（取決於排序演算法實現）

### 演算法正確性證明

**定理**：對於排序後的數組，從最大的三個數開始檢查能保證找到最大周長。

**證明**：

1. 假設存在滿足三角不等式的三元組 `(a, b, c)` 其中 `a ≤ b ≤ c`
2. 對於任何更大的有效三元組 `(a', b', c')` 其中 `c' ≥ c`
3. 由於我們按降序檢查，會先遇到 `(a', b', c')`
4. 因此第一個找到的有效三元組必然具有最大周長

## 測試案例

程式包含以下測試案例：

| 測試案例 | 輸入 | 預期輸出 | 說明 |
|---------|------|---------|------|
| 1 | `[2, 1, 2]` | `5` | 正常情況，能形成三角形 |
| 2 | `[1, 2, 1]` | `0` | 無法形成三角形（1+1 ≤ 2） |
| 3 | `[3, 2, 3, 4]` | `10` | 多個可能三角形，選擇最大周長 |
| 4 | `[1, 1, 10]` | `0` | 邊界情況，剛好不滿足不等式 |
| 5 | `[3, 6, 2, 3]` | `8` | 較大數組的情況 |

## 執行方式

### 前置需求

- [.NET 8.0](https://dotnet.microsoft.com/download/dotnet/8.0) 或更高版本

### 建置和執行

```bash
# 克隆專案
git clone <repository-url>
cd leetcode_976

# 建置專案
dotnet build

# 執行程式
dotnet run
```

### 執行結果範例

```text
測試案例 1: [2, 1, 2]
結果: 5
預期: 5

測試案例 2: [1, 2, 1]
結果: 0
預期: 0

測試案例 3: [3, 2, 3, 4]
結果: 10
預期: 10

測試案例 4: [1, 1, 10]
結果: 0
預期: 0

測試案例 5: [3, 6, 2, 3]
結果: 8
預期: 8
```

## 核心概念

### 貪心演算法

這個解法採用貪心策略：

- **選擇標準**：總是選擇當前可能的最大周長
- **最優子結構**：局部最優解導向全域最優解
- **證明**：由於我們按降序檢查，第一個找到的有效三角形必然是最大周長

### 數學原理

1. **三角不等式的幾何意義**：三角形任意兩邊之和必須大於第三邊
2. **排序的作用**：簡化條件檢查，將三個不等式減少為一個
3. **周長最大化**：在滿足三角不等式的前提下，選擇邊長總和最大的組合

## 相關題目

- [LeetCode 611: Valid Triangle Number](https://leetcode.com/problems/valid-triangle-number/)
- [LeetCode 812: Largest Triangle Area](https://leetcode.com/problems/largest-triangle-area/)

## 參考資料

- [LeetCode 976 原題](https://leetcode.com/problems/largest-perimeter-triangle/)
- [三角不等式 - 維基百科](https://zh.wikipedia.org/wiki/三角不等式)
- [.NET 官方文件](https://docs.microsoft.com/zh-tw/dotnet/)
